<div class="container pt-2" style="height: 100vh">
  <h1 class="text-center pb-3"><%= @space.address %></h1>
  <div class="mx-auto" style="object-fit:cover; width: 100%;
    height: 400px;">
     <div id="map" style="width: 100%; height: 100%;"
         data-markers="<%= @markers.to_json %>"
         data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
    <div class="space-card row py-4 px-3">
      <%  if space.photo %>
        <%= cl_image_tag(space.photo, width: 250, height: 250, crop: :fill) %>
      <% else %>
        <%= image_tag("https://images.unsplash.com/photo-1470224114660-3f6686c562eb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=400&q=80", style: "object-fit:cover; height: 250px; width: 250px") %>
      <% end  %>
      <div class="card flex-grow-1">
        <div class="card-body d-flex justify-content-between">
         <div>
          <h3 class="card-title">Address:<%= @space.address%></h3>
          <p class="card-text">Available from <%= @space.start_date%> to <%= @space.end_date%></p>
          <p class="card-text">Size: <%= @space.size%></p>
         </div>
         <div class="flex-column justify-content-between">
          <h3 class="card-text">Price/Day: <%= @space.price %> Euro</h3>
          </div>
        </div>
      </div>
    </div>

    <div class="space-card row py-4 px-3" style="margin-bottom: 60px;">

      <div style="object-fit: cover; height: 250px; width: 250px">
        <%= cl_image_tag(@space.photo, style: "height: 250px; width: 250px; object-fit: cover;") %>
      </div>

      <div class="card flex-grow-1">
        <div class="card-body d-flex justify-content-between p-2">
           <div>
              <div class="d-flex">
                <i class="large material-icons" style="color: #02CCBA; margin-right: 8px;">location_on</i>
                <h3 class="card-title"><%= @space.address%></h3>
              </div>
            <%if @space.start_date.nil? && @space.end_date.nil? %>
               <p class="card-text" style="font-family: Muli">Available</p>
            <% else %>
               <p class="card-text" style="font-family: Muli">Available from <%= @space.start_date%> to <%= @space.end_date%></p>
            <% end %>
            <p class="card-text"style="font-family: Muli">Size: <%= @space.size%></p>
          </div>

          <div class="flex-column justify-content-between">
            <h3 class="card-text"><strong>Price/Day:</strong> <%= @space.price %>Euro</h3>
            <div style="margin-top: 40px;margin-left: 32px;">
              <%= link_to "Book now", new_space_booking_path(@space), class: "button"%>
            </div>
          </div>
        </div>
       </div>
    </div>
 </div>
